<垃圾回收处理>

*对于垃圾的清理，是保障程序以及系统安全的重要指标之一

  1.引用计数器
    当在堆中创建了某一个对象时，这个对象本身含有一个引用计数器，用来记录连接至这个对象的引用的个数，当存在一个引用连接至这个对象时，那么这个对象的引用
    计数器个数就加一；反之，当断开或释放这个引用和对象之间的连接时，就将这个引用置为Null，此时，引用计数器个数减一。这个过程持续在程序的整个生命周期中
    当垃圾回收处理开始回收垃圾时，就遍历堆中存放的对象，如果存在某个对象的引用计数器为0，那么就立即将这个对象回收，释放存储空间。但会有可能出现一种情况
    就是如果存在对象之间的组合运用时，可能存在“引用计数器不为零，但是对象应该被回收的现象”，所以这种工作方式没有被应用。
  
  2.“自适应”垃圾回收处理
  
  ***什么是“活”的对象？
      我们知道，当程序开始运行时，会根据需要，在内存空间的堆中创建对象的实例，同时，堆中还可能包括成员方法和成员变量，这些都可以称之为对象，这时，在内存
      的栈中，存放了这些对象的引用，每个引用都会指向与之相对应的对象，当引用和对象之间存在链接时，那么我就可以认为这个对象就是“活”的。
  ***思考
      那我们是不是可以这样理解，如果在堆中的对象，与之相对应的引用可能不止一个，那么，我就从这一点出发，找出来一个此对象的引用，从这个引用不断向前回溯，
      找到这个对象的引用，在如此循环往复，当遍历结束之后，如果存在对象没有其他的引用，那么我就可以认为这个对象就是可以被回收的“垃圾”了。
  
    ---1.“停止---复制”的方式
        
          程序运行时，每隔一段时间会进行垃圾回收处理，当进行“停止--复制”这种方式的垃圾回收处理时，java虚拟机会将程序暂时中止，找出来内存堆中的“活”的对象，
          然后我在堆中创建一个新的堆，将刚才遍历查找出来的那些“活”的对象复制到这个新的堆中，然后改变栈中存放的相应对象的引用，使其指向新堆中对应的对象，
          建立引用和对象之间的链接之后，在返回原来的堆中，这时，我们就可以认为这个堆中的所有对象就是“垃圾”了，因为程序被暂时中止，所以我们可以不用担心会有
          新的对象在这个堆中被创建，这时，垃圾回收处理就可以将这个堆中的所有垃圾回收处理之后，释放空间，本次处理就完成了。当进行完所有的操作之后，我的程序
          就可以继续运行了。
        ***可能存在的不足：没有什么方法是完美的，同样，这种处理方式，也有不足，比如说，如果我的内存中已经没有足够多或者空闲的块可以用来创建新的堆了，那么我的
        程序就会陷入一种尴尬的状态，无法回收也无法运行，其次，如果说，有足够的地方可以创建新堆，那么当我找出“活”的对象之后，就可以将他们全部复制过来，如果说
        我的数据块很大，我本次遍历查找之后，发现根本就没有或者只有很少很少的需要被回收的不是“活”的对象，也就是垃圾，那么我此次回收，可以说就是没有什么意义的，
        不仅在空间上造成了浪费，同时，也在时间上造成了不必要的麻烦，所以为了避免这种状况的出现，就有了另外一种可以与之互补的方式。
    
    ---2.“标记---清扫”的方式
      
        上面说到，“停止--复制”的处理方式在数据块较大垃圾较少的情况中会造成空间和时间上的浪费，那么我们可以这样思考，是否可以不创建新的堆，这样，我们可以节省
        掉空间上的浪费，但是清扫还是需要进行的，那么，我们是否可以这样做，当垃圾回收处理开始时，我们同样需要将我们的程序暂时中止，将堆中的对象进行遍历，如果
        在栈中存在对这个对象的引用，我们就给他加上一个标记，告诉程序这个对象是“活”的，这时候呢，当我们遍历结束，再返回过来，重新检查一遍，如果是“活”的，那么
        无需回收，直接跳过它去检查他的下一个对象，只要对象不是“活”的，那么垃圾回收就直接做出相应，将这个对象进行回收，到回收结束时，本次垃圾回收就暂时可以当做
        是完成了。但是，如果数据块较大，并且垃圾趋近于一半时， 这种处理方式，会使我的堆中产生很多的内存碎片，即我剩下的内存空间大部分是不连续的，如果我希望
        得到连续的一片内存空间，那我就需要再做整理。
        
        
     **所以，在实际开发中，常常将两种方式结合，“标记--清扫”的方式处理速度较慢，适合于垃圾较少的情况；“停止---复制”速度较快，适合于垃圾较多的情况下，所以我们
     可以将两种方式结合，当回收处理时，Java虚拟机会进行监视，如果发现没有或很少有新垃圾产生，就转为“标记--清扫”的方式；反之亦然。这就是所谓的“自适应”垃圾回收
     处理机制。
     
     
     
     
     ------以上均为个人的理解，如果有误，烦请各位指正，共同努力进步-------
    
